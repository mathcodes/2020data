{"ast":null,"code":"import _toConsumableArray from\"/Users/jonchristie/Downloads/covid19-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/jonchristie/Downloads/covid19-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jonchristie/Downloads/covid19-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jonchristie/Downloads/covid19-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jonchristie/Downloads/covid19-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{ComposableMap,ZoomableGroup,Geographies,Geography,Marker,Line}from'react-simple-maps';import{scaleSequential,scaleLog,scaleLinear}from'd3-scale';import{interpolateMagma}from'd3-scale-chromatic';import{PatternLines}from'@vx/pattern';import{isMobile,isIPad13}from'react-device-detect';import{TinyColor}from'@ctrl/tinycolor';import{FaShip}from'react-icons/fa';import Toggle from'react-toggle';import'react-toggle/style.css';import maps from'../data/maps.yml';import us_map from'../data/us_map.yml';import transmissions from'../data/transmissions.yml';import coord from'../data/transmissions_coord.yml';import{getDataFromRegion,parseDate}from'../utils/utils';import*as str from'../utils/strings';import i18n from'../data/i18n.yml';var Map=/*#__PURE__*/function(_Component){_inherits(Map,_Component);var _super=_createSuper(Map);function Map(){var _this;_classCallCheck(this,Map);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loaded:false,cursor:[0,0],clicked:false,showTransmissions:false,usState:null};_this.handleGeographyClick=function(region){return function(){if(!_this.state.clicked||region==null)return;_this.props.regionToggle(region.split('.'));};};_this.onZoomEnd=function(event,state){_this.props.handleMapZoomChange(state.zoom);};_this.getConfig=function(config,defaultConfig){return config!=null?config.split(',').map(function(d){return parseInt(d,10);}):defaultConfig;};_this.getColorScale=function(isUsState){var _this$props=_this.props,data=_this$props.data,currentRegion=_this$props.currentRegion,scale=_this$props.scale,metric=_this$props.metric,darkMode=_this$props.darkMode;var currentMap=maps[_this.props.currentMap];var currentScale=scale==='linear'?scaleLinear:scaleLog;var maxCount=currentMap[\"maxScale_\".concat(metric)];if(isUsState&&metric==='confirmedCount'){var stateData=getDataFromRegion(data,currentRegion.slice(0,2));maxCount=Math.max.apply(Math,_toConsumableArray(Object.keys(stateData).filter(function(x){return!['confirmedCount','curedCount','deadCount','ENGLISH'].includes(x);}).map(function(county){return Math.max.apply(Math,_toConsumableArray(Object.values(stateData[county][metric])));})));}var mapScale=currentScale().domain([1,maxCount]).clamp(true);var colorConvert=function colorConvert(x){return darkMode?x*0.95+0.05:0.95-x*0.95;};var colorScale=scaleSequential(function(d){if(!_this.state.showTransmissions||_this.props.currentMap!==str.WORLD_MAP){var color=new TinyColor(interpolateMagma(colorConvert(mapScale(d))));if(!darkMode)return color.toRgbString();return color.desaturate(10).toRgbString();}else{var greyedColor=new TinyColor(interpolateMagma(colorConvert(mapScale(d)))).desaturate(100);if(!darkMode)return greyedColor.setAlpha(0.6).toRgbString();// make the colors distinguishable from dark background\nreturn greyedColor.getLuminance()<0.09?greyedColor.darken(5).setAlpha(0.9).toRgbString():greyedColor.lighten(5).setAlpha(0.9).toRgbString();}});return{colorScale:colorScale,mapScale:mapScale};};_this.getStrokeColor=function(counts,isUsState){var _this$getColorScale=_this.getColorScale(isUsState),colorScale=_this$getColorScale.colorScale,mapScale=_this$getColorScale.mapScale;var darkMode=_this.props.darkMode;var tinyColor=new TinyColor(colorScale(counts));if(!darkMode){return tinyColor.isDark()?colorScale(mapScale.invert(mapScale(counts)-0.6)):colorScale(mapScale.invert(mapScale(counts)+0.3));}else{return tinyColor.isDark()?colorScale(mapScale.invert(mapScale(counts)+0.5)):colorScale(mapScale.invert(mapScale(counts)-0.5));}};return _this;}_createClass(Map,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this2=this;if(this.props.currentMap!==prevProps.currentMap||this.state.usState!==prevState.usState){this.setState({loaded:false});setTimeout(function(){_this2.props.tooltipRebuild();},100);}if(this.props.currentMap===str.US_MAP2){var usState=this.props.currentRegion[1];if(usState!==this.state.usState){this.setState({usState:usState});}}}},{key:\"render\",value:function render(){var _this3=this;if(this.props.currentMap===str.TRANSMISSION)return/*#__PURE__*/React.createElement(\"div\",null);var currentMap=maps[this.props.currentMap];var _this$props2=this.props,data=_this$props2.data,metric=_this$props2.metric,date=_this$props2.date,lang=_this$props2.lang,currentRegion=_this$props2.currentRegion,mapZoom=_this$props2.mapZoom,darkMode=_this$props2.darkMode;var lang_map=lang!=='zh'?'en':'zh';var isUsState=this.props.currentMap===str.US_MAP2&&this.state.usState!=null&&this.state.usState in us_map;var center=isUsState?us_map[this.state.usState].center.split(',').map(function(d){return parseFloat(d);}):currentMap.center.split(',').map(function(d){return parseFloat(d);});var scale=isUsState?us_map[this.state.usState].scale:currentMap.scale;var projection=isUsState?'geoMercator':currentMap.projection;var _this$getColorScale2=this.getColorScale(isUsState),colorScale=_this$getColorScale2.colorScale;var cruiseData=getDataFromRegion(data,[str.INTL_CONVEYANCE_ZH,str.DIAMOND_PRINCESS_ZH]);var cruiseCounts=cruiseData[metric][date]?cruiseData[metric][date]:0;var cruiseStrokeColor=this.getStrokeColor(cruiseCounts,isUsState);var greyStrokeColor=darkMode?'var(--primary-color-10)':'var(--grey)';return/*#__PURE__*/React.createElement(Fragment,null,this.props.currentMap===str.WORLD_MAP&&/*#__PURE__*/React.createElement(\"div\",{className:\"map-transmission-toggle-wrap\"},/*#__PURE__*/React.createElement(Toggle,{className:\"map-transmission-toggle\",defaultChecked:this.state.showTransmissions,onChange:function onChange(){return _this3.setState({showTransmissions:!_this3.state.showTransmissions});},icons:false}),/*#__PURE__*/React.createElement(\"span\",null,i18n.TRANSMISSIONS[this.props.lang])),/*#__PURE__*/React.createElement(ComposableMap,{projection:projection,projectionConfig:{scale:scale,rotate:currentMap.rotate?currentMap.rotate.split(',').map(function(x){return parseInt(x,10);}):[0,0,0],parallels:currentMap.parallels?currentMap.parallels.split(',').map(function(x){return parseInt(x,10);}):[0,0]}},/*#__PURE__*/React.createElement(PatternLines,{id:\"lines\",height:6,width:6,stroke:greyStrokeColor,strokeWidth:1,background:darkMode?'var(--darker-grey)':'#fff',orientation:['diagonal']}),/*#__PURE__*/React.createElement(PatternLines,{id:\"background-lines\",height:6,width:6,stroke:darkMode?'#333':'#ddd',strokeWidth:1,background:darkMode?'var(--darker-grey)':'#fff',orientation:['diagonal']}),/*#__PURE__*/React.createElement(ZoomableGroup,{zoom:mapZoom,onZoomEnd:this.onZoomEnd,onMoveStart:function onMoveStart(e,m){return _this3.setState({cursor:[m.x,m.y],clicked:false});},onMoveEnd:function onMoveEnd(e,m){// click on desktop\nif(Math.abs(m.x-_this3.state.cursor[0])<1&&Math.abs(m.y-_this3.state.cursor[1])<1)_this3.setState({clicked:true});},onTouchStart:// click on touch screens\nisMobile||isIPad13?function(){return _this3.setState({clicked:true});}:null,center:center,minZoom:0.2,maxZoom:5,disableZooming:isMobile||isIPad13,disablePanning:isMobile||isIPad13},![str.WORLD_MAP,str.US_MAP].includes(this.props.currentMap)&&/*#__PURE__*/React.createElement(Geographies,{geography:\"maps/\".concat(this.props.currentMap===str.US_MAP2?'USA':this.props.currentMap===str.HONGKONG_MAP?'CHN_1':'WORLD',\".json\"),onMouseEnter:function onMouseEnter(){if(!_this3.state.loaded){_this3.setState({loaded:true});_this3.props.tooltipRebuild();}}},function(_ref){var geographies=_ref.geographies;return geographies.map(function(geo){var counts=0;if(geo.properties.REGION!=null){var region=getDataFromRegion(data,geo.properties.REGION.split('.'));if(region&&region[metric]&&region[metric][date])counts=region[metric][date];}var backgroundMap=_this3.props.currentMap===str.US_MAP2?str.US_MAP:_this3.props.currentMap===str.HONGKONG_MAP?str.CHINA_MAP1:str.WORLD_MAP;var name=geo.properties[maps[backgroundMap].name_key[lang_map]];var isCurrentCountryOrState=backgroundMap===str.WORLD_MAP?geo.properties.CHINESE_NAME===currentRegion[0]:geo.properties.CHINESE_NAME===currentRegion[1];if(isCurrentCountryOrState)return/*#__PURE__*/React.createElement(\"div\",null);if(backgroundMap===str.US_MAP&&currentRegion.length===1)return/*#__PURE__*/React.createElement(\"div\",null);return/*#__PURE__*/React.createElement(Geography,{className:\"map-geography\",key:geo.rsmKey,geography:geo,\"data-tip\":\"\".concat(name,\" <span class=\\\"plot-tooltip-bold\\\">\").concat(counts,\"</span>\"),style:{default:{fill:darkMode?'var(--darker-grey)':'#fff',stroke:darkMode?'#333':'#ddd',strokeWidth:2},hover:{fill:\"url(\\\"#background-lines\\\") \".concat(darkMode?'#333':'#ddd'),stroke:darkMode?'#333':'#ddd',strokeWidth:2,cursor:counts>0?'pointer':'default'},pressed:{fill:\"url(\\\"#background-lines\\\") \".concat(darkMode?'#333':'#ddd'),stroke:darkMode?'#333':'#ddd',strokeWidth:2,cursor:counts>0?'pointer':'default'}},onClick:_this3.handleGeographyClick(geo.properties.REGION)});});}),/*#__PURE__*/React.createElement(Geographies,{geography:\"maps/\".concat(currentMap.filename),onMouseEnter:function onMouseEnter(){if(!_this3.state.loaded){_this3.setState({loaded:true});_this3.props.tooltipRebuild();}}},function(_ref2){var geographies=_ref2.geographies;return geographies.map(function(geo,i){var counts=0;if(geo.properties.REGION!=null){var region=getDataFromRegion(data,geo.properties.REGION.split('.'));if(region&&region[metric]&&region[metric][date])counts=region[metric][date];}var name=geo.properties[currentMap.name_key[lang_map]];var isCurrentRegion=geo.properties[currentMap.name_key.zh]===currentRegion[currentRegion.length-1];if(currentMap.parent_key)isCurrentRegion=isCurrentRegion&&geo.properties[currentMap.parent_key]===currentRegion[currentRegion.length-2];// highlight all cities in the province\nvar isParentRegion=false;if(currentMap.parent_key){isParentRegion=geo.properties[currentMap.parent_key]===currentRegion[currentRegion.length-1];if(currentRegion.length>=3)isParentRegion=isParentRegion||geo.properties[currentMap.parent_key]===currentRegion[currentRegion.length-2];if(currentRegion.length===1||currentRegion[currentRegion.length-1]===str.MAINLAND_CHINA_ZH)isParentRegion=true;isParentRegion=isParentRegion||isCurrentRegion;}else{isParentRegion=true;}var strokeColor=counts===0?greyStrokeColor:_this3.getStrokeColor(counts,isUsState);// US map\nif(_this3.props.currentMap===str.US_MAP2&&!isParentRegion)return/*#__PURE__*/React.createElement(\"div\",null);return/*#__PURE__*/React.createElement(Fragment,{key:\"fragment-\".concat(geo.rsmKey)},/*#__PURE__*/React.createElement(Geography,{key:geo.rsmKey,className:\"map-geography\",geography:geo,\"data-tip\":\"\".concat(name,\" <span class=\\\"plot-tooltip-bold\\\">\").concat(counts,\"</span>\"),style:{default:{fill:isCurrentRegion?\"url(\\\"#highlightLines-\".concat(i,\"\\\") \").concat(greyStrokeColor):counts>0?colorScale(counts):'url(\"#lines\")',stroke:strokeColor,strokeWidth:isCurrentRegion?1:0,opacity:isParentRegion?1:0.2},hover:{fill:\"url(\\\"#highlightLines-\".concat(i,\"\\\") \").concat(greyStrokeColor),strokeWidth:1,stroke:strokeColor,cursor:counts>0?'pointer':'default'},pressed:{fill:\"url(\\\"#highlightLines-\".concat(i,\"\\\") \").concat(greyStrokeColor),strokeWidth:1,stroke:strokeColor,cursor:counts>0?'pointer':'default'}},onClick:_this3.handleGeographyClick(geo.properties.REGION)}),/*#__PURE__*/React.createElement(PatternLines,{id:\"highlightLines-\".concat(i),height:6,width:6,stroke:strokeColor,strokeWidth:1,background:counts!==0?colorScale(counts):darkMode?'var(--darker-grey)':'#fff',orientation:['diagonal']}));});}),this.props.currentMap===str.WORLD_MAP&&this.state.showTransmissions&&transmissions.filter(function(trans){return parseDate(trans.date)<=parseDate(date);}).map(function(trans,i){return/*#__PURE__*/React.createElement(Line,{keys:\"transmission-\".concat(i),from:coord[trans.from].split(',').map(function(c){return parseFloat(c);}),to:coord[trans.to].split(',').map(function(c){return parseFloat(c);}),stroke:darkMode?'rgba(222,73,104,0.9)':'rgba(222, 73, 104, 0.5)',strokeWidth:1,strokeLinecap:\"round\",style:{pointerEvents:'none'}});}),[str.WORLD_MAP,str.CHINA_MAP1,str.CHINA_MAP2].includes(this.props.currentMap)&&/*#__PURE__*/React.createElement(Marker,{key:'wuhan',coordinates:[114.2,30.3]},/*#__PURE__*/React.createElement(\"g\",{fill:\"none\",stroke:\"var(--primary-color-4)\",strokeWidth:\"2\",pointerEvents:\"none\",strokeLinecap:\"round\",strokeLinejoin:\"round\",transform:\"translate(-12, -24)\"},/*#__PURE__*/React.createElement(\"circle\",{cx:\"12\",cy:\"10\",r:\"3\"}),/*#__PURE__*/React.createElement(\"path\",{d:\"M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z\"}))),(this.props.currentMap===str.WORLD_MAP||this.props.currentMap===str.JAPAN_MAP)&&/*#__PURE__*/React.createElement(Marker,{key:'diamond-princess',coordinates:[139.6,35.4]},/*#__PURE__*/React.createElement(FaShip,{size:this.props.currentMap===str.WORLD_MAP?18:36,color:colorScale(cruiseCounts),className:\"map-ship\",\"data-tip\":\"\".concat(lang==='zh'?str.DIAMOND_PRINCESS_ZH:cruiseData.ENGLISH,\" <span class=\\\"plot-tooltip-bold\\\">\").concat(cruiseCounts,\"</span>\"),style:{stroke:cruiseStrokeColor,visibility:cruiseCounts>0?'visible':'hidden',strokeWidth:currentRegion[currentRegion.length-1]===str.DIAMOND_PRINCESS_ZH?30:0},onClick:function onClick(){return _this3.props.regionToggle([str.INTL_CONVEYANCE_ZH,str.DIAMOND_PRINCESS_ZH]);}})))));}}]);return Map;}(Component);export default Map;","map":{"version":3,"sources":["/Users/jonchristie/Downloads/covid19-master/src/components/Map.js"],"names":["React","Component","Fragment","ComposableMap","ZoomableGroup","Geographies","Geography","Marker","Line","scaleSequential","scaleLog","scaleLinear","interpolateMagma","PatternLines","isMobile","isIPad13","TinyColor","FaShip","Toggle","maps","us_map","transmissions","coord","getDataFromRegion","parseDate","str","i18n","Map","state","loaded","cursor","clicked","showTransmissions","usState","handleGeographyClick","region","props","regionToggle","split","onZoomEnd","event","handleMapZoomChange","zoom","getConfig","config","defaultConfig","map","d","parseInt","getColorScale","isUsState","data","currentRegion","scale","metric","darkMode","currentMap","currentScale","maxCount","stateData","slice","Math","max","Object","keys","filter","x","includes","county","values","mapScale","domain","clamp","colorConvert","colorScale","WORLD_MAP","color","toRgbString","desaturate","greyedColor","setAlpha","getLuminance","darken","lighten","getStrokeColor","counts","tinyColor","isDark","invert","prevProps","prevState","setState","setTimeout","tooltipRebuild","US_MAP2","TRANSMISSION","date","lang","mapZoom","lang_map","center","parseFloat","projection","cruiseData","INTL_CONVEYANCE_ZH","DIAMOND_PRINCESS_ZH","cruiseCounts","cruiseStrokeColor","greyStrokeColor","TRANSMISSIONS","rotate","parallels","e","m","y","abs","US_MAP","HONGKONG_MAP","geographies","geo","properties","REGION","backgroundMap","CHINA_MAP1","name","name_key","isCurrentCountryOrState","CHINESE_NAME","length","rsmKey","default","fill","stroke","strokeWidth","hover","pressed","filename","i","isCurrentRegion","zh","parent_key","isParentRegion","MAINLAND_CHINA_ZH","strokeColor","opacity","trans","from","c","to","pointerEvents","CHINA_MAP2","JAPAN_MAP","ENGLISH","visibility"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport { ComposableMap, ZoomableGroup, Geographies, Geography, Marker, Line } from 'react-simple-maps'\nimport { scaleSequential, scaleLog, scaleLinear } from 'd3-scale'\nimport { interpolateMagma } from 'd3-scale-chromatic'\nimport { PatternLines } from '@vx/pattern'\nimport { isMobile, isIPad13 } from 'react-device-detect'\nimport { TinyColor } from '@ctrl/tinycolor'\nimport { FaShip } from 'react-icons/fa'\nimport Toggle from 'react-toggle'\nimport 'react-toggle/style.css'\nimport maps from '../data/maps.yml'\nimport us_map from '../data/us_map.yml'\nimport transmissions from '../data/transmissions.yml'\nimport coord from '../data/transmissions_coord.yml'\nimport { getDataFromRegion, parseDate } from '../utils/utils'\nimport * as str from '../utils/strings'\nimport i18n from '../data/i18n.yml'\n\nclass Map extends Component {\n    state = {\n        loaded: false,\n        cursor: [ 0, 0 ],\n        clicked: false,\n        showTransmissions: false,\n        usState: null\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.currentMap !== prevProps.currentMap || this.state.usState !== prevState.usState) {\n            this.setState({ loaded: false })\n            setTimeout(() => {\n                this.props.tooltipRebuild()\n            }, 100)\n        }\n\n        if (this.props.currentMap === str.US_MAP2) {\n            const usState = this.props.currentRegion[1]\n            if (usState !== this.state.usState) {\n                this.setState({ usState })\n            }\n        }\n    }\n\n    handleGeographyClick = (region) => () => {\n        if (!this.state.clicked || region == null) return\n\n        this.props.regionToggle(region.split('.'))\n    }\n\n    onZoomEnd = (event, state) => {\n        this.props.handleMapZoomChange(state.zoom)\n    }\n\n    getConfig = (config, defaultConfig) =>\n        config != null ? config.split(',').map((d) => parseInt(d, 10)) : defaultConfig\n\n    getColorScale = (isUsState) => {\n        const { data, currentRegion, scale, metric, darkMode } = this.props\n        const currentMap = maps[this.props.currentMap]\n\n        const currentScale = scale === 'linear' ? scaleLinear : scaleLog\n\n        let maxCount = currentMap[`maxScale_${metric}`]\n        if (isUsState && metric === 'confirmedCount') {\n            const stateData = getDataFromRegion(data, currentRegion.slice(0, 2))\n            maxCount = Math.max(\n                ...Object.keys(stateData)\n                    .filter((x) => ![ 'confirmedCount', 'curedCount', 'deadCount', 'ENGLISH' ].includes(x))\n                    .map((county) => Math.max(...Object.values(stateData[county][metric])))\n            )\n        }\n        const mapScale = currentScale().domain([ 1, maxCount ]).clamp(true)\n        const colorConvert = (x) => (darkMode ? x * 0.95 + 0.05 : 0.95 - x * 0.95)\n        const colorScale = scaleSequential((d) => {\n            if (!this.state.showTransmissions || this.props.currentMap !== str.WORLD_MAP) {\n                const color = new TinyColor(interpolateMagma(colorConvert(mapScale(d))))\n                if (!darkMode) return color.toRgbString()\n\n                return color.desaturate(10).toRgbString()\n            } else {\n                const greyedColor = new TinyColor(interpolateMagma(colorConvert(mapScale(d)))).desaturate(100)\n                if (!darkMode) return greyedColor.setAlpha(0.6).toRgbString()\n\n                // make the colors distinguishable from dark background\n                return greyedColor.getLuminance() < 0.09\n                    ? greyedColor.darken(5).setAlpha(0.9).toRgbString()\n                    : greyedColor.lighten(5).setAlpha(0.9).toRgbString()\n            }\n        })\n\n        return { colorScale, mapScale }\n    }\n\n    getStrokeColor = (counts, isUsState) => {\n        const { colorScale, mapScale } = this.getColorScale(isUsState)\n        const { darkMode } = this.props\n        const tinyColor = new TinyColor(colorScale(counts))\n\n        if (!darkMode) {\n            return tinyColor.isDark()\n                ? colorScale(mapScale.invert(mapScale(counts) - 0.6))\n                : colorScale(mapScale.invert(mapScale(counts) + 0.3))\n        } else {\n            return tinyColor.isDark()\n                ? colorScale(mapScale.invert(mapScale(counts) + 0.5))\n                : colorScale(mapScale.invert(mapScale(counts) - 0.5))\n        }\n    }\n\n    render() {\n        if (this.props.currentMap === str.TRANSMISSION) return <div />\n\n        const currentMap = maps[this.props.currentMap]\n        const { data, metric, date, lang, currentRegion, mapZoom, darkMode } = this.props\n\n        const lang_map = lang !== 'zh'? 'en' : 'zh'\n        const isUsState =\n            this.props.currentMap === str.US_MAP2 && this.state.usState != null && this.state.usState in us_map\n        const center = isUsState\n            ? us_map[this.state.usState].center.split(',').map((d) => parseFloat(d))\n            : currentMap.center.split(',').map((d) => parseFloat(d))\n        const scale = isUsState ? us_map[this.state.usState].scale : currentMap.scale\n        const projection = isUsState ? 'geoMercator' : currentMap.projection\n\n        const { colorScale } = this.getColorScale(isUsState)\n        const cruiseData = getDataFromRegion(data, [ str.INTL_CONVEYANCE_ZH, str.DIAMOND_PRINCESS_ZH ])\n        const cruiseCounts = cruiseData[metric][date] ? cruiseData[metric][date] : 0\n\n        const cruiseStrokeColor = this.getStrokeColor(cruiseCounts, isUsState)\n        const greyStrokeColor = darkMode ? 'var(--primary-color-10)' : 'var(--grey)'\n\n        return (\n            <Fragment>\n                {this.props.currentMap === str.WORLD_MAP && (\n                    <div className=\"map-transmission-toggle-wrap\">\n                        <Toggle\n                            className=\"map-transmission-toggle\"\n                            defaultChecked={this.state.showTransmissions}\n                            onChange={() => this.setState({ showTransmissions: !this.state.showTransmissions })}\n                            icons={false}\n                        />\n                        <span>{i18n.TRANSMISSIONS[this.props.lang]}</span>\n                    </div>\n                )}\n                <ComposableMap\n                    projection={projection}\n\n                    projectionConfig={{\n                        scale: scale,\n                        rotate: currentMap.rotate\n                            ? currentMap.rotate.split(',').map((x) => parseInt(x, 10))\n                            : [ 0, 0, 0 ],\n                        parallels: currentMap.parallels\n                            ? currentMap.parallels.split(',').map((x) => parseInt(x, 10))\n                            : [ 0, 0 ]\n                    }}\n                >\n                    <PatternLines\n                        id=\"lines\"\n                        height={6}\n                        width={6}\n                        stroke={greyStrokeColor}\n                        strokeWidth={1}\n                        background={darkMode ? 'var(--darker-grey)' : '#fff'}\n                        orientation={[ 'diagonal' ]}\n                    />\n                    <PatternLines\n                        id=\"background-lines\"\n                        height={6}\n                        width={6}\n                        stroke={darkMode ? '#333' : '#ddd'}\n                        strokeWidth={1}\n                        background={darkMode ? 'var(--darker-grey)' : '#fff'}\n                        orientation={[ 'diagonal' ]}\n                    />\n                    <ZoomableGroup\n                        zoom={mapZoom}\n                        onZoomEnd={this.onZoomEnd}\n                        onMoveStart={(e, m) => this.setState({ cursor: [ m.x, m.y ], clicked: false })}\n                        onMoveEnd={(e, m) => {\n                            // click on desktop\n                            if (Math.abs(m.x - this.state.cursor[0]) < 1 && Math.abs(m.y - this.state.cursor[1]) < 1)\n                                this.setState({ clicked: true })\n                        }}\n                        onTouchStart={\n                            // click on touch screens\n                            isMobile || isIPad13 ? () => this.setState({ clicked: true }) : null\n                        }\n                        center={center}\n                        minZoom={0.2}\n                        maxZoom={5}\n                        disableZooming={isMobile || isIPad13}\n                        disablePanning={isMobile || isIPad13}\n                    >\n                        {![ str.WORLD_MAP, str.US_MAP ].includes(this.props.currentMap) && (\n                            <Geographies\n                                geography={`maps/${this.props.currentMap === str.US_MAP2\n                                    ? 'USA'\n                                    : this.props.currentMap === str.HONGKONG_MAP ? 'CHN_1' : 'WORLD'}.json`}\n                                onMouseEnter={() => {\n                                    if (!this.state.loaded) {\n                                        this.setState({ loaded: true })\n                                        this.props.tooltipRebuild()\n                                    }\n                                }}\n                            >\n                                {({ geographies }) =>\n                                    geographies.map((geo) => {\n                                        let counts = 0\n                                        if (geo.properties.REGION != null) {\n                                            const region = getDataFromRegion(data, geo.properties.REGION.split('.'))\n                                            if (region && region[metric] && region[metric][date])\n                                                counts = region[metric][date]\n                                        }\n                                        const backgroundMap =\n                                            this.props.currentMap === str.US_MAP2\n                                                ? str.US_MAP\n                                                : this.props.currentMap === str.HONGKONG_MAP\n                                                  ? str.CHINA_MAP1\n                                                  : str.WORLD_MAP\n                                        const name = geo.properties[maps[backgroundMap].name_key[lang_map]]\n                                        const isCurrentCountryOrState =\n                                            backgroundMap === str.WORLD_MAP\n                                                ? geo.properties.CHINESE_NAME === currentRegion[0]\n                                                : geo.properties.CHINESE_NAME === currentRegion[1]\n                                        if (isCurrentCountryOrState) return <div />\n                                        if (backgroundMap === str.US_MAP && currentRegion.length === 1) return <div />\n                                        return (\n                                            <Geography\n                                                className=\"map-geography\"\n                                                key={geo.rsmKey}\n                                                geography={geo}\n                                                data-tip={`${name} <span class=\"plot-tooltip-bold\">${counts}</span>`}\n                                                style={{\n                                                    default: {\n                                                        fill: darkMode ? 'var(--darker-grey)' : '#fff',\n                                                        stroke: darkMode ? '#333' : '#ddd',\n                                                        strokeWidth: 2\n                                                    },\n                                                    hover: {\n                                                        fill: `url(\"#background-lines\") ${darkMode ? '#333' : '#ddd'}`,\n                                                        stroke: darkMode ? '#333' : '#ddd',\n                                                        strokeWidth: 2,\n                                                        cursor: counts > 0 ? 'pointer' : 'default'\n                                                    },\n                                                    pressed: {\n                                                        fill: `url(\"#background-lines\") ${darkMode ? '#333' : '#ddd'}`,\n                                                        stroke: darkMode ? '#333' : '#ddd',\n                                                        strokeWidth: 2,\n                                                        cursor: counts > 0 ? 'pointer' : 'default'\n                                                    }\n                                                }}\n                                                onClick={this.handleGeographyClick(geo.properties.REGION)}\n                                            />\n                                        )\n                                    })}\n                            </Geographies>\n                        )}\n                        <Geographies\n                            geography={`maps/${currentMap.filename}`}\n                            onMouseEnter={() => {\n                                if (!this.state.loaded) {\n                                    this.setState({ loaded: true })\n                                    this.props.tooltipRebuild()\n                                }\n                            }}\n                        >\n                            {({ geographies }) =>\n                                geographies.map((geo, i) => {\n                                    let counts = 0\n                                    if (geo.properties.REGION != null) {\n                                        const region = getDataFromRegion(data, geo.properties.REGION.split('.'))\n                                        if (region && region[metric] && region[metric][date])\n                                            counts = region[metric][date]\n                                    }\n                                    const name = geo.properties[currentMap.name_key[lang_map]]\n                                    let isCurrentRegion =\n                                        geo.properties[currentMap.name_key.zh] ===\n                                        currentRegion[currentRegion.length - 1]\n                                    if (currentMap.parent_key)\n                                        isCurrentRegion =\n                                            isCurrentRegion &&\n                                            geo.properties[currentMap.parent_key] ===\n                                                currentRegion[currentRegion.length - 2]\n\n                                    // highlight all cities in the province\n                                    let isParentRegion = false\n                                    if (currentMap.parent_key) {\n                                        isParentRegion =\n                                            geo.properties[currentMap.parent_key] ===\n                                            currentRegion[currentRegion.length - 1]\n                                        if (currentRegion.length >= 3)\n                                            isParentRegion =\n                                                isParentRegion ||\n                                                geo.properties[currentMap.parent_key] ===\n                                                    currentRegion[currentRegion.length - 2]\n                                        if (\n                                            currentRegion.length === 1 ||\n                                            currentRegion[currentRegion.length - 1] === str.MAINLAND_CHINA_ZH\n                                        )\n                                            isParentRegion = true\n                                        isParentRegion = isParentRegion || isCurrentRegion\n                                    } else {\n                                        isParentRegion = true\n                                    }\n\n                                    const strokeColor =\n                                        counts === 0 ? greyStrokeColor : this.getStrokeColor(counts, isUsState)\n\n                                    // US map\n                                    if (this.props.currentMap === str.US_MAP2 && !isParentRegion) return <div />\n\n                                    return (\n                                        <Fragment key={`fragment-${geo.rsmKey}`}>\n                                            <Geography\n                                                key={geo.rsmKey}\n                                                className=\"map-geography\"\n                                                geography={geo}\n                                                data-tip={`${name} <span class=\"plot-tooltip-bold\">${counts}</span>`}\n                                                style={{\n                                                    default: {\n                                                        fill: isCurrentRegion\n                                                            ? `url(\"#highlightLines-${i}\") ${greyStrokeColor}`\n                                                            : counts > 0 ? colorScale(counts) : 'url(\"#lines\")',\n                                                        stroke: strokeColor,\n                                                        strokeWidth: isCurrentRegion ? 1 : 0,\n                                                        opacity: isParentRegion ? 1 : 0.2\n                                                    },\n                                                    hover: {\n                                                        fill: `url(\"#highlightLines-${i}\") ${greyStrokeColor}`,\n                                                        strokeWidth: 1,\n                                                        stroke: strokeColor,\n                                                        cursor: counts > 0 ? 'pointer' : 'default'\n                                                    },\n                                                    pressed: {\n                                                        fill: `url(\"#highlightLines-${i}\") ${greyStrokeColor}`,\n                                                        strokeWidth: 1,\n                                                        stroke: strokeColor,\n                                                        cursor: counts > 0 ? 'pointer' : 'default'\n                                                    }\n                                                }}\n                                                onClick={this.handleGeographyClick(geo.properties.REGION)}\n                                            />\n                                            <PatternLines\n                                                id={`highlightLines-${i}`}\n                                                height={6}\n                                                width={6}\n                                                stroke={strokeColor}\n                                                strokeWidth={1}\n                                                background={\n                                                    counts !== 0 ? (\n                                                        colorScale(counts)\n                                                    ) : darkMode ? (\n                                                        'var(--darker-grey)'\n                                                    ) : (\n                                                        '#fff'\n                                                    )\n                                                }\n                                                orientation={[ 'diagonal' ]}\n                                            />\n                                        </Fragment>\n                                    )\n                                })}\n                        </Geographies>\n                        {this.props.currentMap === str.WORLD_MAP &&\n                            this.state.showTransmissions &&\n                            transmissions\n                                .filter((trans) => parseDate(trans.date) <= parseDate(date))\n                                .map((trans, i) => {\n                                    return (\n                                        <Line\n                                            keys={`transmission-${i}`}\n                                            from={coord[trans.from].split(',').map((c) => parseFloat(c))}\n                                            to={coord[trans.to].split(',').map((c) => parseFloat(c))}\n                                            stroke={darkMode ? 'rgba(222,73,104,0.9)' : 'rgba(222, 73, 104, 0.5)'}\n                                            strokeWidth={1}\n                                            strokeLinecap=\"round\"\n                                            style={{\n                                                pointerEvents: 'none'\n                                            }}\n                                        />\n                                    )\n                                })}\n                        {[ str.WORLD_MAP, str.CHINA_MAP1, str.CHINA_MAP2 ].includes(this.props.currentMap) && (\n                            <Marker key={'wuhan'} coordinates={[ 114.2, 30.3 ]}>\n                                <g\n                                    fill=\"none\"\n                                    stroke=\"var(--primary-color-4)\"\n                                    strokeWidth=\"2\"\n                                    pointerEvents=\"none\"\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    transform=\"translate(-12, -24)\"\n                                >\n                                    <circle cx=\"12\" cy=\"10\" r=\"3\" />\n                                    <path d=\"M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z\" />\n                                </g>\n                            </Marker>\n                        )}\n                        {(this.props.currentMap === str.WORLD_MAP || this.props.currentMap === str.JAPAN_MAP) && (\n                            <Marker key={'diamond-princess'} coordinates={[ 139.6, 35.4 ]}>\n                                <FaShip\n                                    size={this.props.currentMap === str.WORLD_MAP ? 18 : 36}\n                                    color={colorScale(cruiseCounts)}\n                                    className=\"map-ship\"\n                                    data-tip={`${lang === 'zh'\n                                        ? str.DIAMOND_PRINCESS_ZH\n                                        : cruiseData.ENGLISH} <span class=\"plot-tooltip-bold\">${cruiseCounts}</span>`}\n                                    style={{\n                                        stroke: cruiseStrokeColor,\n                                        visibility: cruiseCounts > 0 ? 'visible' : 'hidden',\n                                        strokeWidth:\n                                            currentRegion[currentRegion.length - 1] === str.DIAMOND_PRINCESS_ZH ? 30 : 0\n                                    }}\n                                    onClick={() =>\n                                        this.props.regionToggle([ str.INTL_CONVEYANCE_ZH, str.DIAMOND_PRINCESS_ZH ])}\n                                />\n                            </Marker>\n                        )}\n                    </ZoomableGroup>\n                </ComposableMap>\n            </Fragment>\n        )\n    }\n}\n\nexport default Map\n"]},"metadata":{},"sourceType":"module"}